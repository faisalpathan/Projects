jQuery(function(e){e("body.no-js").removeClass("no-js"),e(".entry-content .flexslider:not(.metaslider .flexslider), #metaslider-demo.flexslider").flexslider({}),"undefined"!=typeof e.fn.fitVids&&e(".entry-content, .entry-content .panel, .woocommerce #main").fitVids({ignore:".tableauViz"});var t=e("body").hasClass("so-vantage-mobile-device"),i=e("body").hasClass("so-vantage-customizer-preview"),n=e("nav.site-navigation.primary").hasClass("mobile-navigation");(!t&&e("#scroll-to-top").hasClass("scroll-to-top")||(i||t)&&n)&&(e(window).scroll(function(){e(window).scrollTop()>150?e("#scroll-to-top").addClass("displayed"):e("#scroll-to-top").removeClass("displayed")}),e("#scroll-to-top").click(function(){return e("html, body").animate({scrollTop:"0px"}),!1})),e(".vantage-carousel").each(function(){var t=e(this),i=t.closest(".widget"),n=i.find(".widget-title"),a=t.find(".carousel-entry"),s=a.eq(0),o=0,r=1,l=!1,c=!1,d=a.length,u=s.width()+parseInt(s.css("margin-right")),f=function(){0>o&&(o=0),o>=t.find(".carousel-entry").length-1&&(o=t.find(".carousel-entry").length-1,l||c||(l=!0,r++,t.append('<li class="loading"></li>'),e.get(t.data("ajax-url"),{query:t.data("query"),action:"vantage_carousel_load",paged:r},function(i,n){var a=e(i.html),s=a.find(".carousel-entry").appendTo(t).hide().fadeIn().length;d+=s,0===s?(c=!0,t.find(".loading").fadeOut(function(){e(this).remove()})):t.find(".loading").remove(),l=!1}))),t.css("transition-duration","0.45s"),t.css("margin-left",-(u*o)+"px")};n.find("a.previous").click(function(){return o-=1,f(),!1}),n.find("a.next").click(function(){return o+=1,f(),!1});var h,m=!1,g=0,p=0,v=0,w=0;t.swipe({excludedElements:"",triggerOnTouchEnd:!0,threshold:75,swipeStatus:function(e,t,i,n,a,s,r){if("start"===t)p=-(u*o),w=(new Date).getTime(),clearInterval(h);else if("move"===t){"left"===i&&(n*=-1),y(p+n);var l=(new Date).getTime(),c=(l-w)/1e3;v=(n-g)/c,w=l,g=n}else if("end"===t)if(m=!0,"left"===i&&(n*=-1),Math.abs(v)>400){v*=.1;var d=(new Date).getTime(),C=0;h=setInterval(function(){var e=((new Date).getTime()-d)/1e3;C+=v*e;var t=p+n+C,a=30,s=Math.abs(v)-a<0;"left"===i?v+=a:v-=a,!s&&y(t)||(clearInterval(h),b())},20)}else b();else"cancel"===t&&f()}});var y=function(e){return 50>e&&e>-(u*d)?(t.css("transition-duration","0s"),t.css("margin-left",e+"px"),!0):!1},b=function(){var e=parseInt(t.css("margin-left"));o=Math.abs(Math.round(e/u)),f()};t.on("click","li.carousel-entry .thumbnail a",function(e){m&&(e.preventDefault(),m=!1)})}),e("#masthead").on("mouseenter",".main-navigation ul li",function(){var t=e(this),i=t.find("> ul");i.css({display:"block",opacity:0}).clearQueue().animate({opacity:1},250),i.data("final-opacity",1)}).on("mouseleave",".main-navigation ul li",function(){var t=e(this),i=t.find("> ul");i.clearQueue().animate({opacity:0},250,function(){0===i.data("final-opacity")&&i.css("display","none")}),i.data("final-opacity",0)}),e("#header-sidebar .widget_nav_menu","#masthead-widgets .widget_nav_menu").on("mouseenter","ul.menu li",function(){var t=e(this),i=t.find("> ul");i.finish().css("opacity",0).hide().slideDown(200).animate({opacity:1},{queue:!1,duration:200})}).on("mouseleave","ul.menu li",function(){var t=e(this),i=t.find("> ul");i.finish().fadeOut(150)});var a=!1;e(document).click(function(){a||e("#search-icon form").fadeOut(250)});var s=e(".masthead-logo-in-menu").height(),o=e(".masthead-logo-in-menu .menu > .menu-item").outerHeight(),r=e(".masthead-logo-in-menu .logo").outerHeight();if(s>o&&e(".masthead-logo-in-menu .menu > .menu-item").css("margin-top",(s-o)/2),s>r&&e(".masthead-logo-in-menu .logo").css("margin-top",(s-r)/2),e(document).on("click","#search-icon-icon",function(){var t=e(this).parent();t.find("form").fadeToggle(250),setTimeout(function(){t.find("input[name=s]").focus()},300)}),e(document).on("mouseenter","#search-icon",function(){a=!0}).on("mouseleave","#search-icon",function(){a=!1}),e(window).resize(function(){e("#search-icon .searchform").each(function(){e(this).width(e(this).closest(".full-container").width())})}).resize(),e("nav.site-navigation.primary").hasClass("use-sticky-menu")&&!t||(t||i)&&n){var l=e("nav.site-navigation.primary"),c=e('<div id="sticky-container"></div>');c.css("margin-left",l.css("margin-left")),c.css("margin-right",l.css("margin-right")),c.css("position",l.css("position"));var d,u=function(){null!=d&&"undefined"!=typeof d||(d=l.offset().top);var t=0;if(e("body").hasClass("admin-bar")){var i=e("#wpadminbar"),n=i.outerHeight();t="absolute"==i.css("position")?0:n}var a=e(window).scrollTop(),s=parseInt(d-a);t>s?(l.hasClass("sticky")?l.css({width:l.parent().width(),top:t,left:l.parent().position().left}):(l.wrapAll(c),l.css({position:"fixed",width:l.parent().width(),top:t,left:l.parent().position().left,"z-index":998}).addClass("sticky")),l.parent().css("height",l.outerHeight())):l.hasClass("sticky")&&(l.css({position:"",width:"",top:"",left:"","z-index":""}).removeClass("sticky"),l.unwrap(),d=null)};e(window).scroll(u).resize(u),u()}e('body.layout-full #main-slider[data-stretch="true"]').each(function(){var t=e(this);t.find(">div").css("max-width","100%"),t.find(".slides li").each(function(){var t=e(this),i=t.find("img.ms-default-image").eq(0);i.length||(i=t.find("img").eq(0)),t.css("background-image","url("+i.attr("src")+")"),i.css("visibility","hidden"),t.wrapInner('<div class="full-container"></div>');var n=t.find("a");n.length&&(t.mouseover(function(){t.css("cursor","hand")}),t.mouseout(function(){t.css("cursor","pointer")}),t.click(function(t){t.preventDefault();var i=e(t.target),a=i.is("a")?i:n;window.open(a.attr("href"),a.attr("target"))}))})}),e("#header-sidebar").each(function(){var t=e(this),i=0;if(t.find("> aside").each(function(){var e=(t.outerHeight()-t.find("> aside").outerHeight())/2;e>i&&(i=e)}),i>15?t.css({"padding-top":i,"padding-bottom":i}):(i=-i+15,e("#masthead .logo > *").css({"padding-top":i,"padding-bottom":i})),t.hasClass("no-logo-overlay")){var n=function(){t.closest("#masthead").removeClass("force-responsive");var i=e("#masthead .logo").find("h1,img");t.offset().left<i.offset().left+i.outerWidth()&&t.closest("#masthead").addClass("force-responsive")};e(window).resize(n),n()}}),e("#colophon #footer-widgets .widget_nav_menu a").each(function(){var t=(e(this),e(this).parents(".sub-menu").length),i=10*t+"px";e(this).css("padding-left",i)})});